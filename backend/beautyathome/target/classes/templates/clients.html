<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BeautyAtHome · Clientes</title>
    <link rel="stylesheet" th:href="@{/css/app.css}" href="/css/app.css" />
</head>
<body class="app-body">
<div class="shell">
    <header class="top-nav">
        <div class="brand">
            <span class="brand__glyph">BAH</span>
            <div>
                <p class="brand__title">BeautyAtHome</p>
                <small class="brand__tagline">Clientes felices</small>
            </div>
        </div>
        <nav class="nav-links">
            <a th:href="@{/home}">Inicio</a>
            <a th:href="@{/clients}" class="is-active">Clientes</a>
            <a th:href="@{/professionals}">Profesionales</a>
            <a th:href="@{/bookings}">Reservas</a>
            <a th:href="@{/reviews}">Reseñas</a>
        </nav>
    </header>

    <main class="content">
        <section class="hero hero--sub">
            <div>
                <p class="eyebrow">Gestión de clientes</p>
                <h1>Centraliza perfiles, preferencias y próximos consentimientos</h1>
                <p>Registra nuevos clientes en segundos y mantenlos listos para tu próximo booking en casa.</p>
            </div>
            <div class="hero__badge">
                <p class="hero__kpi" th:text="${#lists.size(clients)}">0</p>
                <p class="hero__label">Clientes registrados</p>
                <span>Datos seguros en memoria</span>
            </div>
        </section>

        <section class="glass-panel">
            <div class="section-header">
                <h2>Registrar cliente</h2>
                <p>Captura lo esencial para agendar sin fricción.</p>
            </div>
            <div th:if="${message}" class="alert alert-success" th:text="${message}"></div>
            <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>
            <form th:action="@{/clients}" th:object="${clientForm}" method="post" class="form-grid">
                <label>
                    ID (opcional)
                    <input type="text" th:field="*{id}" placeholder="cli-123" />
                </label>
                <label>
                    Nombre completo
                    <input type="text" th:field="*{name}" placeholder="Nombre" required />
                </label>
                <label>
                    Correo electrónico
                    <input type="email" th:field="*{email}" placeholder="nombre@mail.com" required />
                </label>
                <button type="submit" class="btn primary">Guardar cliente</button>
            </form>
        </section>

        <section class="glass-panel">
            <div class="section-header">
                <h2>Clientes registrados</h2>
                <span th:text="${#lists.size(clients)} + ' perfiles listos'">0 perfiles</span>
            </div>
            <div class="card-grid three">
                <article class="card profile-card" th:each="client : ${clients}">
                    <div class="avatar" th:text="${client.name != null ? #strings.substring(client.name, 0, 1) : '?'}">M</div>
                    <div>
                        <h3 th:text="${client.name}">Nombre</h3>
                        <p class="muted" th:text="${client.email}">correo@mail.com</p>
                        <small th:text="${client.id}">cli-000</small>
                    </div>
                </article>
                <p class="empty" th:if="${#lists.isEmpty(clients)}">Todavía no hay clientes registrados.</p>
            </div>
        </section>
    </main>
</div>
</body>
</html>
